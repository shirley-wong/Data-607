---
title: "Data 607_Hw1_Mushroom_ColorTable"
author: "Sin Ying Wong"
date: "9/1/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Assignment 1 : Loading Data into Data Frame

**Mushrooms Dataset** A famous—if slightly moldy—dataset about mushrooms can be found in the UCI repository here: https://archive.ics.uci.edu/ml/datasets/Mushroom. The fact that this is such a well-known dataset in the data science community makes it a good dataset to use for comparative benchmarking. For example, if someone was working to build a better decision tree algorithm (or other predictive classifier) to analyze categorical data, this dataset could be useful. A typical problem (which is beyond the scope of this assignment!) is to answer the question, “Which other attribute or attributes are the best predictors of whether a particular mushroom is poisonous or edible?”

Your task is to study the dataset and the associated description of the data (i.e. “data dictionary”). You may need to look around a bit, but it’s there! You should take the data, and create a data frame with a subset of the columns in the dataset. You should include the column that indicates edible or poisonous and three or four other columns. You should also add meaningful column names and replace the abbreviations used in the data—for example, in the appropriate column, “e” might become “edible.” Your deliverable is the R code to perform these transformation tasks.

## Import Library

```{r library}
library(stringr)
```

## Read Mushrooms Dataset

As there is no header in the dataset and the default of header is TRUE, code "header=FALSE" is included.
"dim" can shows us how many rows and columns we have in the dataset.

```{r read}
mushroom <- read.csv("c:/Users/wsyin/Documents/Data 607 Data Acquisition & Mgmt/Homework/Assignment 1 R/agaricus-lepiota.data", header=FALSE, stringsAsFactors=FALSE)
dim(mushroom)
```

## Create a data frame named "m_colortable" with a subset of a total of 5 columns in the dataset 

By choosing the Class and 4 other columns rated to colors, I created a data frame for them, named m_colortable.

```{r creatDF}
m_colortable <- mushroom[, c(1, 4, 10, 18, 21)]
```

## Apply meaningful column names

The 5 columns are Class, Cap_color, Gill_color, Veil_color, and SporePrint_color.

```{r colnames}
colnames(m_colortable) <- c("Class", "Cap_color", "Gill_color", "Veil_color", "SporePrint_color")
```

## Replace the abbreviations used in the data with meaningful words

Replace "e" as "edible", "p" as "poisonous" in column 1, and replace all the characters in the other 4 columns with their corresponding colors.

```{r Mushroom_ColorTable}
m_colortable$Class <- ifelse(str_detect(m_colortable$Class, "p") == TRUE, "poisonous", "edible")
col_idx <- grepl("color", names(m_colortable))
var <- c("n")
m_colortable[col_idx] <- lapply(m_colortable[col_idx], function(x) replace(x,x %in% var, "brown"))
var <- c("b")
m_colortable[col_idx] <- lapply(m_colortable[col_idx], function(x) replace(x,x %in% var, "buff"))
var <- c("c")
m_colortable[col_idx] <- lapply(m_colortable[col_idx], function(x) replace(x,x %in% var, "cinnamon"))
var <- c("g")
m_colortable[col_idx] <- lapply(m_colortable[col_idx], function(x) replace(x,x %in% var, "gray"))
var <- c("r")
m_colortable[col_idx] <- lapply(m_colortable[col_idx], function(x) replace(x,x %in% var, "green"))
var <- c("p")
m_colortable[col_idx] <- lapply(m_colortable[col_idx], function(x) replace(x,x %in% var, "pink"))
var <- c("u")
m_colortable[col_idx] <- lapply(m_colortable[col_idx], function(x) replace(x,x %in% var, "purple"))
var <- c("e")
m_colortable[col_idx] <- lapply(m_colortable[col_idx], function(x) replace(x,x %in% var, "red"))
var <- c("w")
m_colortable[col_idx] <- lapply(m_colortable[col_idx], function(x) replace(x,x %in% var, "white"))
var <- c("y")
m_colortable[col_idx] <- lapply(m_colortable[col_idx], function(x) replace(x,x %in% var, "yellow"))
var <- c("k")
m_colortable[col_idx] <- lapply(m_colortable[col_idx], function(x) replace(x,x %in% var, "black"))
var <- c("h")
m_colortable[col_idx] <- lapply(m_colortable[col_idx], function(x) replace(x,x %in% var, "chocolate"))
var <- c("o")
m_colortable[col_idx] <- lapply(m_colortable[col_idx], function(x) replace(x,x %in% var, "orange"))

```

## To view the first 20 rows of the results as reference

```{r check}
head(m_colortable, 20)
```
